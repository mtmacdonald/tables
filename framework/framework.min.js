/*! Webknife vX.X.X - webknife.org | webknife.org/framework/license.txt 
!*/function oldBrowserWarning(){if(document.all&&!document.addEventListener){var e=new Array,t=-1;e[++t]='<p id="w-browser-warning" class="w-error" style="margin:0;">',e[++t]="You are using an old version of Internet Explorer which is unsupported. Some features may not work correctly. ",e[++t]='Consider <a href="http://www.whatbrowser.org/intl/en_uk/">upgrading</a> to a modern browser. ',e[++t]='<span id="w-dismiss-browser-warning" class="w-false-link">Dismiss.</span> ',e[++t]="</p>",$("body").prepend(e.join(""))}}var wModal,datePickerOptions={show_icon:!1},RecaptchaOptions={theme:"custom",custom_theme_widget:"recaptcha_widget"};$(document).ready(function(){oldBrowserWarning(),$("body").on("click","#w-dismiss-browser-warning",function(){$("#w-browser-warning").remove()}),$(".w-breadcrumb li:last-child a").click(function(e){e.preventDefault()}),$(".w-file-input-button").click(function(){$(this).prev("input[type=text]").prev("input[type=file]").trigger("click")}),$(".w-file-input").click(function(){$(this).prev("input[type=file]").trigger("click")}),$("input[type=file]").change(function(){var e=$(this).val().replace(/\\/g,"/");e=e.split("/").pop(),$(this).next("input[type=text]").val(e)})}),function(e){var t={init:function(t){function a(){e(".wi-modal-container").remove()}var n=document.documentElement.clientWidth,r=document.documentElement.clientHeight,i=r/2-t.height/2,s=n/2-t.width/2,o=new Array,u=-1;return o[++u]='<div class="wi-modal-container">',o[++u]='<div style="width:'+t.width+"px; height:"+t.height+"px; top:"+i+"px; left:"+s+'px;" class="wi-modal">',o[++u]='<a class="wi-modal-close">x</a>',o[++u]="<h2>"+t.title+"</h2>",o[++u]="<div>"+t.html+"</div>",o[++u]="</div>",o[++u]='<div class="wi-modal-background"></div></div>',this.after(o.join("")),e(".wi-modal-container").find(".wi-modal-close").click(a)},close:function(){e(".wi-modal-container").remove()},example:function(){}};e.fn.modal=function(n){if(t[n])return t[n].apply(this,Array.prototype.slice.call(arguments,1));if(typeof n=="object"||!n)return t.init.apply(this,arguments);e.error("Method "+n+" does not exist on jQuery.modal")}}(jQuery),function(e){e.Zebra_DatePicker=function(t,n){var r={always_show_clear:!1,always_visible:!1,days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),days_abbr:!1,direction:0,disabled_dates:!1,first_day_of_week:1,format:"Y-m-d",inside:!0,lang_clear_date:"Clear",months:"January February March April May June July August September October November December".split(" "),months_abbr:!1,offset:[5,-5],pair:!1,readonly_element:!0,show_icon:!0,show_week_number:!1,start_date:!1,view:"days",weekend_days:[0,6],zero_pad:!0,onChange:null,onClear:null,onSelect:null},i,s,o,u,a,f,l,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B=this;B.settings={};var j=e(t),F=function(N){N||(B.settings=e.extend({},r,n)),B.settings.readonly_element&&j.attr("readonly","readonly");var M={days:["d","j","D"],months:["F","m","M","n","t"],years:["o","Y","y"]},_=!1,D=!1,F=!1;for(type in M)e.each(M[type],function(e,t){-1<B.settings.format.indexOf(t)&&("days"==type?_=!0:"months"==type?D=!0:"years"==type&&(F=!0))});P=_&&D&&F?["years","months","days"]:!_&&D&&F?["years","months"]:!_&&!D&&F?["years"]:["years","months","days"],-1==e.inArray(B.settings.view,P)&&(B.settings.view=P[P.length-1]),T=[],e.isArray(B.settings.disabled_dates)&&0<B.settings.disabled_dates.length&&e.each(B.settings.disabled_dates,function(){for(var t=this.split(" "),n=0;4>n;n++){t[n]||(t[n]="*"),t[n]=-1<t[n].indexOf(",")?t[n].split(","):Array(t[n]);for(var r=0;r<t[n].length;r++)if(-1<t[n][r].indexOf("-")){var i=t[n][r].match(/^([0-9]+)\-([0-9]+)/);if(null!=i){for(var s=K(i[1]);s<=K(i[2]);s++)-1==e.inArray(s,t[n])&&t[n].push(s+"");t[n].splice(r,1)}}for(r=0;r<t[n].length;r++)t[n][r]=isNaN(K(t[n][r]))?t[n][r]:K(t[n][r])}T.push(t)});var M=new Date,q=B.settings.reference_date?B.settings.reference_date:j.data("zdp_reference_date")&&void 0!=j.data("zdp_reference_date")?j.data("zdp_reference_date"):M,R,W;k=C=void 0,m=q.getMonth(),p=M.getMonth(),g=q.getFullYear(),d=M.getFullYear(),y=q.getDate(),v=M.getDate();if(!0===B.settings.direction)C=q;else if(!1===B.settings.direction)k=q,O=k.getMonth(),A=k.getFullYear(),L=k.getDate();else if(!e.isArray(B.settings.direction)&&z(B.settings.direction)&&0<K(B.settings.direction)||e.isArray(B.settings.direction)&&(!0===B.settings.direction[0]||z(B.settings.direction[0])&&0<B.settings.direction[0]||(R=I(B.settings.direction[0])))&&(!1===B.settings.direction[1]||z(B.settings.direction[1])&&0<=B.settings.direction[1]||(W=I(B.settings.direction[1]))))C=R?R:new Date(g,m,y+(e.isArray(B.settings.direction)?K(!0===B.settings.direction[0]?0:B.settings.direction[0]):K(B.settings.direction))),m=C.getMonth(),g=C.getFullYear(),y=C.getDate(),W&&+W>=+C?k=W:!W&&!1!==B.settings.direction[1]&&e.isArray(B.settings.direction)&&(k=new Date(g,m,y+K(B.settings.direction[1]))),k&&(O=k.getMonth(),A=k.getFullYear(),L=k.getDate());else if(!e.isArray(B.settings.direction)&&z(B.settings.direction)&&0>K(B.settings.direction)||e.isArray(B.settings.direction)&&(!1===B.settings.direction[0]||z(B.settings.direction[0])&&0>B.settings.direction[0])&&(z(B.settings.direction[1])&&0<=B.settings.direction[1]||(R=I(B.settings.direction[1]))))k=new Date(g,m,y+(e.isArray(B.settings.direction)?K(!1===B.settings.direction[0]?0:B.settings.direction[0]):K(B.settings.direction))),O=k.getMonth(),A=k.getFullYear(),L=k.getDate(),R&&+R<+k?C=R:!R&&e.isArray(B.settings.direction)&&(C=new Date(A,O,L-K(B.settings.direction[1]))),C&&(m=C.getMonth(),g=C.getFullYear(),y=C.getDate());if(U(g,m,y)){for(;U(g);)C?(g++,m=0):(g--,m=11);for(;U(g,m);)C?(m++,y=1):(m--,y=31),11<m?(g++,m=0,y=1):0>m&&(g--,m=11,y=31);for(;U(g,m,y);)C?y++:y--;M=new Date(g,m,y),g=M.getFullYear(),m=M.getMonth(),y=M.getDate()}(R=I(j.val()||(B.settings.start_date?B.settings.start_date:"")))&&U(R.getFullYear(),R.getMonth(),R.getDate())&&j.val(""),Q(R);if(!B.settings.always_visible&&(N||(B.settings.show_icon?(R='<button type="button" class="Zebra_DatePicker_Icon'+("disabled"==j.attr("disabled")?" Zebra_DatePicker_Icon_Disabled":"")+'">Pick a date</button>',o=e(R),B.icon=o,H=o.add(j)):H=j,H.bind("click",function(e){e.preventDefault(),j.attr("disabled")||("none"!=s.css("display")?B.hide():B.show())}),void 0!=o&&o.insertAfter(t)),void 0!=o)){B.settings.inside&&o.addClass("Zebra_DatePicker_Icon_Inside"),R=j.position(),W=j.outerHeight(!1);var M=parseInt(j.css("marginTop"),10)||0,q=j.outerWidth(!1),$=parseInt(j.css("marginLeft"),10)||0,J=o.outerWidth(!0),et=o.outerHeight(!0);B.settings.inside?o.css({left:R.left+$+q-J,top:R.top+M+(W-et)/2}):o.css({left:R.left+q,top:R.top+(W-et)/2})}void 0!=o&&(j.is(":visible")?o.css("display","block"):o.css("display","none")),N||(R='<div class="Zebra_DatePicker"><table class="dp_header"><tr><td class="dp_previous">&laquo;</td><td class="dp_caption">&nbsp;</td><td class="dp_next">&raquo;</td></tr></table><table class="dp_daypicker"></table><table class="dp_monthpicker"></table><table class="dp_yearpicker"></table><table class="dp_footer"><tr><td>'+B.settings.lang_clear_date+"</td></tr></table></div>",s=e(R),B.datepicker=s,u=e("table.dp_header",s),a=e("table.dp_daypicker",s),f=e("table.dp_monthpicker",s),l=e("table.dp_yearpicker",s),h=e("table.dp_footer",s),B.settings.always_visible?j.attr("disabled")||(B.settings.always_visible.append(s),B.show()):e("body").append(s),s.delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked, .dp_week_number)","mouseover",function(){e(this).addClass("dp_hover")}).delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked, .dp_week_number)","mouseout",function(){e(this).removeClass("dp_hover")}),N=e("td",u),"firefox"==G.name?N.css("MozUserSelect","none"):"explorer"==G.name?N.bind("selectstart",function(){return!1}):N.mousedown(function(){return!1}),e(".dp_previous",u).bind("click",function(){e(this).hasClass("dp_blocked")||("months"==i?w--:"years"==i?w-=12:0>--b&&(b=11,w--),X())}),e(".dp_caption",u).bind("click",function(){i="days"==i?-1<e.inArray("months",P)?"months":-1<e.inArray("years",P)?"years":"days":"months"==i?-1<e.inArray("years",P)?"years":-1<e.inArray("days",P)?"days":"months":-1<e.inArray("days",P)?"days":-1<e.inArray("months",P)?"months":"years",X()}),e(".dp_next",u).bind("click",function(){e(this).hasClass("dp_blocked")||("months"==i?w++:"years"==i?w+=12:12==++b&&(b=0,w++),X())}),a.delegate("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)","click",function(){V(w,b,K(e(this).html()),"days",e(this))}),f.delegate("td:not(.dp_disabled)","click",function(){var t=e(this).attr("class").match(/dp\_month\_([0-9]+)/);b=K(t[1]),-1==e.inArray("days",P)?V(w,b,1,"months",e(this)):(i="days",B.settings.always_visible&&j.val(""),X())}),l.delegate("td:not(.dp_disabled)","click",function(){w=K(e(this).html()),-1==e.inArray("months",P)?V(w,1,1,"years",e(this)):(i="months",B.settings.always_visible&&j.val(""),X())}),e("td",h).bind("click",function(e){e.preventDefault(),j.val(""),B.settings.always_visible||(w=b=x=S=E=null,h.css("display","none")),B.hide(),B.settings.onClear&&"function"==typeof B.settings.onClear&&B.settings.onClear(j)}),B.settings.always_visible||e(document).bind({mousedown:B._mousedown,keyup:B._keyup}),X())};B.hide=function(){B.settings.always_visible||(R("hide"),s.css("display","none"))},B.show=function(){i=B.settings.view;var t=I(j.val()||(B.settings.start_date?B.settings.start_date:""));t?(S=t.getMonth(),b=t.getMonth(),x=t.getFullYear(),w=t.getFullYear(),E=t.getDate(),U(x,S,E)&&(j.val(""),b=m,w=g)):(b=m,w=g),X();if(B.settings.always_visible)s.css("display","block");else{var t=s.outerWidth(),n=s.outerHeight(),r=(void 0!=o?o.offset().left+o.outerWidth(!0):j.offset().left+j.outerWidth(!0))+B.settings.offset[0],u=(void 0!=o?o.offset().top:j.offset().top)-n+B.settings.offset[1],a=e(window).width(),f=e(window).height(),l=e(window).scrollTop(),h=e(window).scrollLeft();r+t>h+a&&(r=h+a-t),r<h&&(r=h),u+n>l+f&&(u=l+f-n),u<l&&(u=l),s.css({left:r,top:u}),s.fadeIn("explorer"==G.name&&9>G.version?0:150,"linear"),R()}},B.update=function(t){B.original_direction&&(B.original_direction=B.direction),B.settings=e.extend(B.settings,t),F(!0)};var I=function(t){t+="";if(""!=e.trim(t)){var n;n=B.settings.format.replace(/\s/g,"").replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1");for(var r="dDjlNSwFmMnYy".split(""),i=[],s=[],o=0;o<r.length;o++)-1<(position=n.indexOf(r[o]))&&i.push({character:r[o],position:position});i.sort(function(e,t){return e.position-t.position}),e.each(i,function(e,t){switch(t.character){case"d":s.push("0[1-9]|[12][0-9]|3[01]");break;case"D":s.push("[a-z]{3}");break;case"j":s.push("[1-9]|[12][0-9]|3[01]");break;case"l":s.push("[a-z]+");break;case"N":s.push("[1-7]");break;case"S":s.push("st|nd|rd|th");break;case"w":s.push("[0-6]");break;case"F":s.push("[a-z]+");break;case"m":s.push("0[1-9]|1[012]+");break;case"M":s.push("[a-z]{3}");break;case"n":s.push("[1-9]|1[012]");break;case"Y":s.push("[0-9]{4}");break;case"y":s.push("[0-9]{2}")}});if(s.length&&(i.reverse(),e.each(i,function(e,t){n=n.replace(t.character,"("+s[s.length-e-1]+")")}),s=RegExp("^"+n+"$","ig"),segments=s.exec(t.replace(/\s/g,"")))){var u,a,f,l="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),h="January February March April May June July August September October November December".split(" "),p,d=!0;i.reverse(),e.each(i,function(t,n){if(!d)return!0;switch(n.character){case"m":case"n":a=K(segments[t+1]);break;case"d":case"j":u=K(segments[t+1]);break;case"D":case"l":case"F":case"M":p="D"==n.character||"l"==n.character?B.settings.days:B.settings.months,d=!1,e.each(p,function(e,r){if(d)return!0;if(segments[t+1].toLowerCase()==r.substring(0,"D"==n.character||"M"==n.character?3:r.length).toLowerCase()){switch(n.character){case"D":segments[t+1]=l[e].substring(0,3);break;case"l":segments[t+1]=l[e];break;case"F":segments[t+1]=h[e],a=e+1;break;case"M":segments[t+1]=h[e].substring(0,3),a=e+1}d=!0}});break;case"Y":f=K(segments[t+1]);break;case"y":f="19"+K(segments[t+1])}});if(d&&(t=new Date(f,(a||1)-1,u||1),t.getFullYear()==f&&t.getDate()==(u||1)&&t.getMonth()==(a||1)-1))return t}return!1}},q=function(){var t=(new Date(w,b+1,0)).getDate(),n=(new Date(w,b,1)).getDay(),r=(new Date(w,b,0)).getDate(),n=n-B.settings.first_day_of_week,n=0>n?7+n:n;W(B.settings.months[b]+", "+w);var i="<tr>";B.settings.show_week_number&&(i+="<th>"+B.settings.show_week_number+"</th>");for(var s=0;7>s;s++)i+="<th>"+(e.isArray(B.settings.days_abbr)&&void 0!=B.settings.days_abbr[(B.settings.first_day_of_week+s)%7]?B.settings.days_abbr[(B.settings.first_day_of_week+s)%7]:B.settings.days[(B.settings.first_day_of_week+s)%7].substr(0,2))+"</th>";i+="</tr><tr>";for(s=0;42>s;s++){0<s&&0==s%7&&(i+="</tr><tr>");if(0==s%7&&B.settings.show_week_number){var o=new Date(w,b,s-n+1),u=o.getFullYear(),f=o.getMonth()+1,o=o.getDate(),l=void 0,h=void 0,m=void 0,g=m=void 0,y=void 0,m=h=l=void 0;3>f?(l=u-1,h=(l/4|0)-(l/100|0)+(l/400|0),m=((l-1)/4|0)-((l-1)/100|0)+((l-1)/400|0),m=h-m,g=0,y=o-1+31*(f-1)):(l=u,h=(l/4|0)-(l/100|0)+(l/400|0),m=((l-1)/4|0)-((l-1)/100|0)+((l-1)/400|0),m=h-m,g=m+1,y=o+((153*(f-3)+2)/5|0)+58+m),l=(l+h)%7,o=(y+l-g)%7,h=y+3-o,m=0>h?53-((l-m)/5|0):h>364+m?1:(h/7|0)+1,i+='<td class="dp_week_number">'+m+"</td>"}u=s-n+1,s<n?i+='<td class="dp_not_in_month">'+J(r-n+s+1,B.settings.zero_pad?2:0)+"</td>":u>t?i+='<td class="dp_not_in_month">'+J(u-t,B.settings.zero_pad?2:0)+"</td>":(f=(B.settings.first_day_of_week+s)%7,o="",U(w,b,u)?(o=-1<e.inArray(f,B.settings.weekend_days)?"dp_weekend_disabled":o+" dp_disabled",b==p&&w==d&&v==u&&(o+=" dp_disabled_current")):(-1<e.inArray(f,B.settings.weekend_days)&&(o="dp_weekend"),b==S&&w==x&&E==u&&(o+=" dp_selected"),b==p&&w==d&&v==u&&(o+=" dp_current")),i+="<td"+(""!=o?' class="'+e.trim(o)+'"':"")+">"+(B.settings.zero_pad?J(u,2):u)+"</td>")}a.html(e(i+"</tr>")),B.settings.always_visible&&(M=e("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked, .dp_week_number)",a)),a.css("display","")},R=function(t){if("explorer"==G.name&&6==G.version){if(!N){var n=K(s.css("zIndex"))-1;N=jQuery("<iframe>",{src:'javascript:document.write("")',scrolling:"no",frameborder:0,allowtransparency:"true",css:{zIndex:n,position:"absolute",top:-1e3,left:-1e3,width:s.outerWidth(),height:s.outerHeight(),filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)",display:"none"}}),e("body").append(N)}switch(t){case"hide":N.css("display","none");break;default:t=s.offset(),N.css({top:t.top,left:t.left,display:"block"})}}},U=function(t,n,r){if(e.isArray(B.settings.direction)||0!==K(B.settings.direction)){var i=K($(t,"undefined"!=typeof n?J(n,2):"","undefined"!=typeof r?J(r,2):"")),s=(i+"").length;if(8==s&&("undefined"!=typeof C&&i<K($(g,J(m,2),J(y,2)))||"undefined"!=typeof k&&i>K($(A,J(O,2),J(L,2))))||6==s&&("undefined"!=typeof C&&i<K($(g,J(m,2)))||"undefined"!=typeof k&&i>K($(A,J(O,2))))||4==s&&("undefined"!=typeof C&&i<g||"undefined"!=typeof k&&i>A))return!0}if(T){"undefined"!=typeof n&&(n+=1);var o=!1;e.each(T,function(){if(!o&&(-1<e.inArray(t,this[2])||-1<e.inArray("*",this[2])))if("undefined"!=typeof n&&-1<e.inArray(n,this[1])||-1<e.inArray("*",this[1]))if("undefined"!=typeof r&&-1<e.inArray(r,this[0])||-1<e.inArray("*",this[0])){if("*"==this[3])return o=!0;var i=(new Date(t,n-1,r)).getDay();if(-1<e.inArray(i,this[3]))return o=!0}});if(o)return!0}return!1},z=function(e){return(e+"").match(/^\-?[0-9]+$/)?!0:!1},W=function(t){e(".dp_caption",u).html(t);if(e.isArray(B.settings.direction)||0!==K(B.settings.direction)){t=w;var n=b,r,s;"days"==i?(s=0>n-1?$(t-1,"11"):$(t,J(n-1,2)),r=11<n+1?$(t+1,"00"):$(t,J(n+1,2))):"months"==i?(s=t-1,r=t+1):"years"==i&&(s=t-7,r=t+7),U(s)?(e(".dp_previous",u).addClass("dp_blocked"),e(".dp_previous",u).removeClass("dp_hover")):e(".dp_previous",u).removeClass("dp_blocked"),U(r)?(e(".dp_next",u).addClass("dp_blocked"),e(".dp_next",u).removeClass("dp_hover")):e(".dp_next",u).removeClass("dp_blocked")}},X=function(){if(""==a.text()||"days"==i){if(""==a.text()){B.settings.always_visible||s.css("left",-1e3),s.css({display:"block"}),q();var t=a.outerWidth(),n=a.outerHeight();u.css("width",t),f.css({width:t,height:n}),l.css({width:t,height:n}),h.css("width",t),s.css({display:"none"})}else q();f.css("display","none"),l.css("display","none")}else if("months"==i){W(w),t="<tr>";for(n=0;12>n;n++){0<n&&0==n%3&&(t+="</tr><tr>");var r="dp_month_"+n;U(w,n)?r+=" dp_disabled":!1!==S&&S==n?r+=" dp_selected":p==n&&d==w&&(r+=" dp_current"),t+='<td class="'+e.trim(r)+'">'+(e.isArray(B.settings.months_abbr)&&void 0!=B.settings.months_abbr[n]?B.settings.months_abbr[n]:B.settings.months[n].substr(0,3))+"</td>"}f.html(e(t+"</tr>")),B.settings.always_visible&&(_=e("td:not(.dp_disabled)",f)),f.css("display",""),a.css("display","none"),l.css("display","none")}else if("years"==i){W(w-7+" - "+(w+4)),t="<tr>";for(n=0;12>n;n++)0<n&&0==n%3&&(t+="</tr><tr>"),r="",U(w-7+n)?r+=" dp_disabled":x&&x==w-7+n?r+=" dp_selected":d==w-7+n&&(r+=" dp_current"),t+="<td"+(""!=e.trim(r)?' class="'+e.trim(r)+'"':"")+">"+(w-7+n)+"</td>";l.html(e(t+"</tr>")),B.settings.always_visible&&(D=e("td:not(.dp_disabled)",l)),l.css("display",""),a.css("display","none"),f.css("display","none")}B.settings.onChange&&"function"==typeof B.settings.onChange&&void 0!=i&&(t="days"==i?a.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked)"):"months"==i?f.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked)"):l.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_blocked)"),t.each(function(){if("days"==i)e(this).data("date",w+"-"+J(b+1,2)+"-"+J(K(e(this).text()),2));else if("months"==i){var t=e(this).attr("class").match(/dp\_month\_([0-9]+)/);e(this).data("date",w+"-"+J(K(t[1])+1,2))}else e(this).data("date",K(e(this).text()))}),B.settings.onChange(i,t,j)),(B.settings.always_show_clear||B.settings.always_visible||""!=j.val())&&"block"!=h.css("display")?h.css("display",""):h.css("display","none")},V=function(t,n,r,i,s){var o=new Date(t,n,r,12,0,0);i="days"==i?M:"months"==i?_:D;var u;u="";for(var a=o.getDate(),f=o.getDay(),l=B.settings.days[f],h=o.getMonth()+1,p=B.settings.months[h-1],d=o.getFullYear()+"",v=0;v<B.settings.format.length;v++){var m=B.settings.format.charAt(v);switch(m){case"y":d=d.substr(2);case"Y":u+=d;break;case"m":h=J(h,2);case"n":u+=h;break;case"M":p=e.isArray(B.settings.months_abbr)&&void 0!=B.settings.months_abbr[h-1]?B.settings.months_abbr[h-1]:B.settings.months[h-1].substr(0,3);case"F":u+=p;break;case"d":a=J(a,2);case"j":u+=a;break;case"D":l=e.isArray(B.settings.days_abbr)&&void 0!=B.settings.days_abbr[f]?B.settings.days_abbr[f]:B.settings.days[f].substr(0,3);case"l":u+=l;break;case"N":f++;case"w":u+=f;break;case"S":u=1==a%10&&"11"!=a?u+"st":2==a%10&&"12"!=a?u+"nd":3==a%10&&"13"!=a?u+"rd":u+"th";break;default:u+=m}}j.val(u),B.settings.always_visible&&(S=o.getMonth(),b=o.getMonth(),x=o.getFullYear(),w=o.getFullYear(),E=o.getDate(),i.removeClass("dp_selected"),s.addClass("dp_selected")),B.hide(),Q(o),B.settings.onSelect&&"function"==typeof B.settings.onSelect&&B.settings.onSelect(u,t+"-"+J(n+1,2)+"-"+J(r,2),o,j)},$=function(){for(var e="",t=0;t<arguments.length;t++)e+=arguments[t]+"";return e},J=function(e,t){for(e+="";e.length<t;)e="0"+e;return e},K=function(e){return parseInt(e,10)},Q=function(t){B.settings.pair&&e.each(B.settings.pair,function(){var n=e(this);!n.data||!n.data("Zebra_DatePicker")?n.data("zdp_reference_date",t):(n=n.data("Zebra_DatePicker"),n.update({reference_date:t,direction:0==n.settings.direction?1:n.settings.direction}),n.settings.always_visible&&n.show())})};B._keyup=function(e){return("block"==s.css("display")||27==e.which)&&B.hide(),!0},B._mousedown=function(t){if("block"==s.css("display")){if(B.settings.show_icon&&e(t.target).get(0)===o.get(0))return!0;0==e(t.target).parents().filter(".Zebra_DatePicker").length&&B.hide()}return!0};var G={init:function(){this.name=this.searchString(this.dataBrowser)||"",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||""},searchString:function(e){for(var t=0;t<e.length;t++){var n=e[t].string,r=e[t].prop;this.versionSearchString=e[t].versionSearch||e[t].identity;if(n){if(-1!=n.indexOf(e[t].subString))return e[t].identity}else if(r)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Firefox",identity:"firefox"},{string:navigator.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"}]};G.init(),F()},e.fn.Zebra_DatePicker=function(t){return this.each(function(){if(void 0!=e(this).data("Zebra_DatePicker")){var n=e(this).data("Zebra_DatePicker");void 0!=n.icon&&n.icon.remove(),n.datepicker.remove(),e(document).unbind("keyup",n._keyup),e(document).unbind("mousedown",n._mousedown)}n=new e.Zebra_DatePicker(this,t),e(this).data("Zebra_DatePicker",n)})}}(jQuery);